# Docker에서 파일 복사 기능 이용하기

![intro](./images/docker-logo.png)

## 1. Docker

우선 도커가 설치되어있어야 합니다.  
도커 설치는 기존 포스팅을 참고 해주시기 바랍니다!  

```bash
$ docker -v
Docker version 20.10.17, build 100c701
```

도커 버전을 확인합니다.  
도커가 정상 설치되었으므로 본격적으로 테스트에 사용할 Alpine 리눅스를 설치해 보겠습니다.  

```bash
docker pull alpine
```

이미지 부터 다운로드 해줍니다.  

```bash
docker run -d -it --name alpine-container alpine:latest sh
```

그다음 테스트에 사용할 알파인 리눅스 컨테이너를 생성해줍니다.   

## 2. Docker 컨테이너로 파일 복사하기

호스트에 있는 파일을 도커 컨테이너의 특정 경로로 복사하는 명령어는 다음과 같다.  

```bash
docker cp <복사할 파일 경로> <컨테이너 이름>:<컨테이너 내부 파일 경로>
```

만일 호스트에 있는 test.txt 파일을 컨테이너의 `/test` 경로로 복사한다면, 다음과 같이 사용한다.   

```bash
docker cp test.txt alpine-container:/test
```

만일 디렉토리를 옮기고 싶을때는 어떻게 해야할까?  
디렉토리를 복사하는 경우도 별다른 옵션없이 복사가 가능하다.  

## 3. Docker 컨테이너에서 파일 가져오기

그럼 반대로 도커 컨테이너에 있는 파일을 호스트로 가져오려면 어떻게 해야할까?  
매우 단순하다. 파일 경로와 컨테이너의 경로를 바꿔주면 된다.  

```bash
docker cp <컨테이너 이름>:<컨테이너 내부 파일 경로> <복사할 파일 경로> 
```

만일 도커 컨테이너의 test.txt 파일을 호스트의 경로인 `/test` 으로 복사를 원한다면, 다음과 같이 사용한다.  

```bash
docker cp alpine-container:/test.txt /test/
```

역시 동일하게 디렉토리도 별다른 옵션없이 복사가 가능하다.  

## 4. 마무리

만일 도커 컨테이너의 볼륨 설정이 따로 잡혀있다면, 볼륨에 파일을 복사하고, 다시 옮겨주는 방법도 있다.  
볼륨이 따로 잡혀있지 않은데, 파일을 복사하거나 옮겨와야 할때 유용하게 사용할 수 있다.  
맥의 경우는 volume 설정이 조금 달라서 주로 맥에서 도커를 사용할때 유용하게 쓰고있다.  
맥의 volume 설정 관련해서는 이전 포스팅에서 확인 할 수 있다.  